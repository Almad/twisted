<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>HTML Documentation Standard for Twisted</title>
  </head>

  <body>
    <h1>HTML Documentation Standard for Twisted</h1>

    <h2>Multi-line Code Snippets</h2>

    <p>Multi-line code snippets should be delimited with a
    &lt;pre&gt; tag, with a mandatory 'class' attribute. The
    conventionalized classes are "python", "python-interpreter",
    and "shell". For example:</p>

    <h3>"python"</h3>
<pre>
    &lt;p&gt;
    For example, this is how one defines a Resource:
    &lt;/p&gt;

    &lt;pre class="python"&gt;
from twisted.web import resource

class MyResource(resource.Resource):
    def render(self, request):
        return "Hello, world!"
    &lt;/pre&gt;
</pre>

    <p>For example, this is how one defines a Resource:</p>
<pre class="python">
from twisted.web import resource

class MyResource(resource.Resource):
    def render(self, request):
        return "Hello, world!"
   
</pre>

    <p>Note that you should never have leading indentation inside a
    &lt;pre&gt; block -- this makes it hard for readers to
    copy/paste the code.</p>

    <h3>"python-interpreter"</h3>
<pre>
    &lt;pre class="python-interpreter"&gt;
    &amp;gt;&amp;gt;&amp;gt; from twisted.web import resource
    &amp;gt;&amp;gt;&amp;gt; class MyResource(resource.Resource):
    ...     def render(self, request):
    ...         return "Hello, world!"
    ...
    &amp;gt;&amp;gt;&amp;gt; MyResource().render(None)
    "Hello, world!"
    &lt;/pre&gt;
</pre>

<pre class="python-interpreter">
&gt;&gt;&gt; from twisted.web import resource
&gt;&gt;&gt; class MyResource(resource.Resource):
...     def render(self, request):
...         return "Hello, world!"
...
&gt;&gt;&gt; MyResource().render(None)
"Hello, world!"
</pre>

    <h3>"shell"</h3>
<pre>
    &lt;pre class="shell"&gt;
    $ mktap web --path /var/www
    &lt;/pre&gt;
</pre>

<pre class="shell">
$ mktap web --path /var/www
</pre>

    <h2>Code inside paragraph text</h2>

    <p>For single-line code-snippets and attribute, method, class,
    and module names, use the &lt;code&gt; tag, with a class of
    "API" or "python". During processing, module or class-names
    with class "API" will automatically be looked up in the API
    reference and have a link placed around it referencing the
    actual API documents for that module/classname. If you wish to
    reference an API document, then make sure you at least have a
    single module-name so that the processing code will be able to
    figure out which module or class you're referring to.</p>

    <p>You may also use the <code>base</code> attribute in conjuction
    with a class of "API" to indicate the module that should be prepended
    to the module or classname.  This is to help keep the documentation
    clearer and less cluttered by allowing links to API docs that don't
    need the module name.</p>
<pre>
        &lt;p&gt;
    To add a &lt;code class="API"&gt;twisted.web.widgets.Widget&lt;/code&gt;
    instance to a &lt;code class="API" base="twisted.web.widgets"&gt;Gadget&lt;/code&gt;
    instance, do 
    &lt;code class="python"&gt;myGadget.putWidget("widgetPath", MyWidget())&lt;/code&gt;.  
        &lt;/p&gt;
    
        &lt;p&gt; 
    (implementation note: the widgets are stored in the &lt;code
    class="python"&gt;gadgetInstance.widgets&lt;/code&gt; attribute,
    which is a
    list.)
        &lt;/p&gt;
    
</pre>

<div class="boxed">
        <p>
    To add a <code class="API">twisted.web.widgets.Widget</code>
    instance to a <code class="API" base="twisted.web.widgets">Gadget</code>
    instance, do
    <code class="python">myGadget.putWidget("widgetPath", MyWidget())</code>.
        </p>

        <p>
    (implementation note: the widgets are stored in the <code
    class="python">gadgetInstance.widgets</code> attribute,
    which is a
    list.)
        </p>

</div>

    <h2>Headers</h2>

    <p>It goes without mentioning that you should use &lt;hN&gt; in
    a sane way -- &lt;h1&gt; should only appear once in the
    document, to specify the title. Sections of the document should
    use &lt;h2&gt;, sub-headers &lt;h3&gt;, and so on.</p>

    <h2>XHTML</h2>

    <p>XHTML is mandatory. That means tags that don't have a
    closing tag need a '/'; for example, <code>&lt;hr /&gt;</code>
    . Also, tags which have "optional" closing tags in HTML
    <em>need</em> to be closed in XHTML; for example,
    <code>&lt;li&gt;foo&lt;/li&gt;</code></p>

    <h2>Tag Case</h2>

    <p>All tags will be done in lower-case. XHTML demands this, and
    so do I. :-)</p>

    <h2>Suggestions</h2>

<p>(Tidy seems to be causing more harm than good right now, so this next
suggestion is on hold for the time being...)</p>

    <p style="color: grey">Use 'tidy -e -xml foo.html' before every commit!
    Also, tidy can be utilized in other ways to auto-correct your XHTML (or
    convert HTML to XHTML), but can sometimes cause undesirable
    effects, like converting some <code>&lt;/p&gt;</code>s to
    <code>&lt;br /&gt;</code>s.</p>


    <p>Don't use tables for formatting. 'nuff said.</p>

  </body>
</html>

