/* Generated by Pyrex 0.9.3 on Mon Apr 18 17:41:18 2005 */

#include "Python.h"
#include "structmember.h"
#ifndef PY_LONG_LONG
  #define PY_LONG_LONG LONG_LONG
#endif
#include "hack.h"


typedef struct {PyObject **p; char *s;} __Pyx_InternTabEntry; /*proto*/
typedef struct {PyObject **p; char *s; long n;} __Pyx_StringTabEntry; /*proto*/
static PyObject *__Pyx_UnpackItem(PyObject *, int); /*proto*/
static int __Pyx_EndUnpack(PyObject *, int); /*proto*/
static int __Pyx_PrintItem(PyObject *); /*proto*/
static int __Pyx_PrintNewline(void); /*proto*/
static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb); /*proto*/
static void __Pyx_ReRaise(void); /*proto*/
static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list); /*proto*/
static PyObject *__Pyx_GetExcValue(void); /*proto*/
static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name); /*proto*/
static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type); /*proto*/
static int __Pyx_GetStarArgs(PyObject **args, PyObject **kwds, char *kwd_list[], int nargs, PyObject **args2, PyObject **kwds2); /*proto*/
static void __Pyx_WriteUnraisable(char *name); /*proto*/
static void __Pyx_AddTraceback(char *funcname); /*proto*/
static PyTypeObject *__Pyx_ImportType(char *module_name, char *class_name, long size);  /*proto*/
static int __Pyx_SetVtable(PyObject *dict, void *vtable); /*proto*/
static int __Pyx_GetVtable(PyObject *dict, void *vtabptr); /*proto*/
static PyObject *__Pyx_CreateClass(PyObject *bases, PyObject *dict, PyObject *name, char *modname); /*proto*/
static int __Pyx_InternStrings(__Pyx_InternTabEntry *t); /*proto*/
static int __Pyx_InitStrings(__Pyx_StringTabEntry *t); /*proto*/
static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name); /*proto*/

static PyObject *__pyx_m;
static PyObject *__pyx_b;
static int __pyx_lineno;
static char *__pyx_filename;
staticforward char **__pyx_f;

/* Declarations from cdefer */

staticforward PyTypeObject __pyx_type_6cdefer_Deferred;

struct __pyx_obj_6cdefer_Deferred {
  PyObject_HEAD
  struct __pyx_vtabstruct_6cdefer_Deferred *__pyx_vtab;
  PyObject *result;
  int paused;
  PyObject *callbacks;
  int isFailure;
  PyObject *debugInfo;
};

struct __pyx_vtabstruct_6cdefer_Deferred {
  PyObject *((*_addCallbacks)(struct __pyx_obj_6cdefer_Deferred *,PyObject *,PyObject *,PyObject *,PyObject *,PyObject *,PyObject *));
  PyObject *((*_startRunCallbacks)(struct __pyx_obj_6cdefer_Deferred *,PyObject *));
  PyObject *((*_runCallbacks)(struct __pyx_obj_6cdefer_Deferred *));
};
static struct __pyx_vtabstruct_6cdefer_Deferred *__pyx_vtabptr_6cdefer_Deferred;

static PyTypeObject *__pyx_ptype_6cdefer_Deferred = 0;
static PyObject *__pyx_v_6cdefer__marker;
static PyObject *__pyx_v_6cdefer_PyClass_Type;
static int __pyx_v_6cdefer_debug;
static PyObject *__pyx_k15;
static PyObject *__pyx_k16;
static PyObject *__pyx_k17;
static PyObject *__pyx_k18;
static PyObject *__pyx_k19;
static PyObject *__pyx_k20;
static PyObject *__pyx_k21;

/* Implementation of cdefer */

static char (__pyx_k4[]) = "twisted.python";
static char (__pyx_k7[]) = "twisted.python.failure";
static char (__pyx_k9[]) = "twisted.python.util";
static char (__pyx_k11[]) = "twisted.internet.defer";

static PyObject *__pyx_n_traceback;
static PyObject *__pyx_n_warnings;
static PyObject *__pyx_n_types;
static PyObject *__pyx_n_log;
static PyObject *__pyx_n_failure;
static PyObject *__pyx_n_Failure;
static PyObject *__pyx_n_unsignedID;
static PyObject *__pyx_n_AlreadyCalledError;
static PyObject *__pyx_n_timeout;
static PyObject *__pyx_n_DebugInfo;
static PyObject *__pyx_n_setDebugging;
static PyObject *__pyx_n_object;
static PyObject *__pyx_n_ClassType;

static PyObject *__pyx_k4p;
static PyObject *__pyx_k7p;
static PyObject *__pyx_k9p;
static PyObject *__pyx_k11p;

static PyObject *__pyx_f_6cdefer_setDebugging(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_6cdefer_setDebugging(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_new_debug = 0;
  PyObject *__pyx_r;
  int __pyx_1;
  static char *__pyx_argnames[] = {"new_debug",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_new_debug)) return 0;
  Py_INCREF(__pyx_v_new_debug);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":39 */
  __pyx_1 = PyObject_IsTrue(__pyx_v_new_debug); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 39; goto __pyx_L1;}
  if (__pyx_1) {

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":40 */
    __pyx_v_6cdefer_debug = 1;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":42 */
    __pyx_v_6cdefer_debug = 0;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cdefer.setDebugging");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_new_debug);
  return __pyx_r;
}

static PyObject *__pyx_f_6cdefer_8Deferred_6called___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_6cdefer_8Deferred_6called___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":63 */
  __pyx_1 = ((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->result != __pyx_v_6cdefer__marker;
  __pyx_2 = PyInt_FromLong(__pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 63; goto __pyx_L1;}
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cdefer.Deferred.called.__get__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_format_stack;
static PyObject *__pyx_n_creator;

static int __pyx_f_6cdefer_8Deferred___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_6cdefer_8Deferred___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return -1;
  Py_INCREF(__pyx_v_self);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":72 */
  ((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->paused = 0;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":73 */
  __pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 73; goto __pyx_L1;}
  Py_DECREF(((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->callbacks);
  ((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->callbacks = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":74 */
  Py_INCREF(__pyx_v_6cdefer__marker);
  Py_DECREF(((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->result);
  ((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->result = __pyx_v_6cdefer__marker;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":75 */
  ((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->isFailure = 0;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":76 */
  __pyx_2 = __pyx_v_6cdefer_debug;
  if (__pyx_2) {

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":77 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_DebugInfo); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 77; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 77; goto __pyx_L1;}
    __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 77; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->debugInfo);
    ((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->debugInfo = __pyx_4;
    __pyx_4 = 0;

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":78 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_traceback); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 78; goto __pyx_L1;}
    __pyx_3 = PyObject_GetAttr(__pyx_1, __pyx_n_format_stack); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 78; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_4 = PyTuple_New(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 78; goto __pyx_L1;}
    __pyx_1 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 78; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_3 = PySequence_GetSlice(__pyx_1, 0, (-1)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 78; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (PyObject_SetAttr(((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->debugInfo, __pyx_n_creator, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 78; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cdefer.Deferred.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static char (__pyx_k22[]) = "Add a pair of callbacks (success and error) to this Deferred.\n\n        These will be executed when the \'master\' callback is run.\n        ";

static PyObject *__pyx_f_6cdefer_8Deferred__addCallbacks(struct __pyx_obj_6cdefer_Deferred *__pyx_v_self,PyObject *__pyx_v_callback,PyObject *__pyx_v_errback,PyObject *__pyx_v_callbackArgs,PyObject *__pyx_v_callbackKeywords,PyObject *__pyx_v_errbackArgs,PyObject *__pyx_v_errbackKeywords) {
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_callback);
  Py_INCREF(__pyx_v_errback);
  Py_INCREF(__pyx_v_callbackArgs);
  Py_INCREF(__pyx_v_callbackKeywords);
  Py_INCREF(__pyx_v_errbackArgs);
  Py_INCREF(__pyx_v_errbackKeywords);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":83 */
  __pyx_k22;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":87 */
  __pyx_1 = __pyx_v_callback == Py_None;
  if (!__pyx_1) {
    __pyx_1 = PyCallable_Check(__pyx_v_callback);
  }
  if (!__pyx_1) {
    PyErr_SetNone(PyExc_AssertionError);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 87; goto __pyx_L1;}
  }

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":88 */
  __pyx_1 = __pyx_v_errback == Py_None;
  if (!__pyx_1) {
    __pyx_1 = PyCallable_Check(__pyx_v_errback);
  }
  if (!__pyx_1) {
    PyErr_SetNone(PyExc_AssertionError);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 88; goto __pyx_L1;}
  }

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":89 */
  __pyx_2 = PyTuple_New(6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 90; goto __pyx_L1;}
  Py_INCREF(__pyx_v_callback);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_callback);
  Py_INCREF(__pyx_v_callbackArgs);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_callbackArgs);
  Py_INCREF(__pyx_v_callbackKeywords);
  PyTuple_SET_ITEM(__pyx_2, 2, __pyx_v_callbackKeywords);
  Py_INCREF(__pyx_v_errback);
  PyTuple_SET_ITEM(__pyx_2, 3, __pyx_v_errback);
  Py_INCREF(__pyx_v_errbackArgs);
  PyTuple_SET_ITEM(__pyx_2, 4, __pyx_v_errbackArgs);
  Py_INCREF(__pyx_v_errbackKeywords);
  PyTuple_SET_ITEM(__pyx_2, 5, __pyx_v_errbackKeywords);
  __pyx_1 = PyList_Append(__pyx_v_self->callbacks,__pyx_2); if (__pyx_1 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 89; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":92 */
  __pyx_1 = __pyx_v_self->result != __pyx_v_6cdefer__marker;
  if (__pyx_1) {

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":93 */
    __pyx_2 = ((struct __pyx_vtabstruct_6cdefer_Deferred *)__pyx_v_self->__pyx_vtab)->_runCallbacks(__pyx_v_self); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 93; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":94 */
  Py_INCREF(((PyObject *)__pyx_v_self));
  __pyx_r = ((PyObject *)__pyx_v_self);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cdefer.Deferred._addCallbacks");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_callback);
  Py_DECREF(__pyx_v_errback);
  Py_DECREF(__pyx_v_callbackArgs);
  Py_DECREF(__pyx_v_callbackKeywords);
  Py_DECREF(__pyx_v_errbackArgs);
  Py_DECREF(__pyx_v_errbackKeywords);
  return __pyx_r;
}

static PyObject *__pyx_f_6cdefer_8Deferred_addCallbacks(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6cdefer_8Deferred_addCallbacks[] = "Add a pair of callbacks (success and error) to this Deferred.\n\n        These will be executed when the \'master\' callback is run.\n        ";
static PyObject *__pyx_f_6cdefer_8Deferred_addCallbacks(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_callback = 0;
  PyObject *__pyx_v_errback = 0;
  PyObject *__pyx_v_callbackArgs = 0;
  PyObject *__pyx_v_callbackKeywords = 0;
  PyObject *__pyx_v_errbackArgs = 0;
  PyObject *__pyx_v_errbackKeywords = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {"callback","errback","callbackArgs","callbackKeywords","errbackArgs","errbackKeywords",0};
  __pyx_v_errback = __pyx_k15;
  __pyx_v_callbackArgs = __pyx_k16;
  __pyx_v_callbackKeywords = __pyx_k17;
  __pyx_v_errbackArgs = __pyx_k18;
  __pyx_v_errbackKeywords = __pyx_k19;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|OOOOO", __pyx_argnames, &__pyx_v_callback, &__pyx_v_errback, &__pyx_v_callbackArgs, &__pyx_v_callbackKeywords, &__pyx_v_errbackArgs, &__pyx_v_errbackKeywords)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_callback);
  Py_INCREF(__pyx_v_errback);
  Py_INCREF(__pyx_v_callbackArgs);
  Py_INCREF(__pyx_v_callbackKeywords);
  Py_INCREF(__pyx_v_errbackArgs);
  Py_INCREF(__pyx_v_errbackKeywords);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":103 */
  __pyx_1 = ((struct __pyx_vtabstruct_6cdefer_Deferred *)((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->__pyx_vtab)->_addCallbacks(((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self),__pyx_v_callback,__pyx_v_errback,__pyx_v_callbackArgs,__pyx_v_callbackKeywords,__pyx_v_errbackArgs,__pyx_v_errbackKeywords); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 103; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("cdefer.Deferred.addCallbacks");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_callback);
  Py_DECREF(__pyx_v_errback);
  Py_DECREF(__pyx_v_callbackArgs);
  Py_DECREF(__pyx_v_callbackKeywords);
  Py_DECREF(__pyx_v_errbackArgs);
  Py_DECREF(__pyx_v_errbackKeywords);
  return __pyx_r;
}

static PyObject *__pyx_f_6cdefer_8Deferred_addCallback(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6cdefer_8Deferred_addCallback[] = "Convenience method for adding just a callback.\n\n        See L{addCallbacks}.\n        ";
static PyObject *__pyx_f_6cdefer_8Deferred_addCallback(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_callback = 0;
  PyObject *__pyx_v_args = 0;
  PyObject *__pyx_v_kw = 0;
  PyObject *__pyx_r;
  int __pyx_1;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"callback",0};
  if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 1, &__pyx_v_args, &__pyx_v_kw) < 0) return 0;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_callback)) {
    Py_XDECREF(__pyx_args);
    Py_XDECREF(__pyx_kwds);
    Py_XDECREF(__pyx_v_args);
    Py_XDECREF(__pyx_v_kw);
    return 0;
  }
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_callback);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":112 */
  __pyx_1 = PyObject_IsTrue(__pyx_v_args); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 112; goto __pyx_L1;}
  __pyx_2 = (!__pyx_1);
  if (__pyx_2) {
    Py_INCREF(Py_None);
    Py_DECREF(__pyx_v_args);
    __pyx_v_args = Py_None;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":113 */
  __pyx_1 = PyObject_IsTrue(__pyx_v_kw); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 113; goto __pyx_L1;}
  __pyx_2 = (!__pyx_1);
  if (__pyx_2) {
    Py_INCREF(Py_None);
    Py_DECREF(__pyx_v_kw);
    __pyx_v_kw = Py_None;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":114 */
  __pyx_3 = ((struct __pyx_vtabstruct_6cdefer_Deferred *)((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->__pyx_vtab)->_addCallbacks(((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self),__pyx_v_callback,Py_None,__pyx_v_args,__pyx_v_kw,Py_None,Py_None); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 114; goto __pyx_L1;}
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cdefer.Deferred.addCallback");
  __pyx_r = 0;
  __pyx_L0:;
  Py_XDECREF(__pyx_v_args);
  Py_XDECREF(__pyx_v_kw);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_callback);
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

static PyObject *__pyx_f_6cdefer_8Deferred_addErrback(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6cdefer_8Deferred_addErrback[] = "Convenience method for adding just an errback.\n\n        See L{addCallbacks}.\n        ";
static PyObject *__pyx_f_6cdefer_8Deferred_addErrback(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_errback = 0;
  PyObject *__pyx_v_args = 0;
  PyObject *__pyx_v_kw = 0;
  PyObject *__pyx_r;
  int __pyx_1;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"errback",0};
  if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 1, &__pyx_v_args, &__pyx_v_kw) < 0) return 0;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_errback)) {
    Py_XDECREF(__pyx_args);
    Py_XDECREF(__pyx_kwds);
    Py_XDECREF(__pyx_v_args);
    Py_XDECREF(__pyx_v_kw);
    return 0;
  }
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_errback);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":121 */
  __pyx_1 = PyObject_IsTrue(__pyx_v_args); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 121; goto __pyx_L1;}
  __pyx_2 = (!__pyx_1);
  if (__pyx_2) {
    Py_INCREF(Py_None);
    Py_DECREF(__pyx_v_args);
    __pyx_v_args = Py_None;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":122 */
  __pyx_1 = PyObject_IsTrue(__pyx_v_kw); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 122; goto __pyx_L1;}
  __pyx_2 = (!__pyx_1);
  if (__pyx_2) {
    Py_INCREF(Py_None);
    Py_DECREF(__pyx_v_kw);
    __pyx_v_kw = Py_None;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":123 */
  __pyx_3 = ((struct __pyx_vtabstruct_6cdefer_Deferred *)((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->__pyx_vtab)->_addCallbacks(((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self),Py_None,__pyx_v_errback,Py_None,Py_None,__pyx_v_args,__pyx_v_kw); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 123; goto __pyx_L1;}
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cdefer.Deferred.addErrback");
  __pyx_r = 0;
  __pyx_L0:;
  Py_XDECREF(__pyx_v_args);
  Py_XDECREF(__pyx_v_kw);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_errback);
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

static PyObject *__pyx_f_6cdefer_8Deferred_addBoth(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6cdefer_8Deferred_addBoth[] = "Convenience method for adding a single callable as both a callback\n        and an errback.\n\n        See L{addCallbacks}.\n        ";
static PyObject *__pyx_f_6cdefer_8Deferred_addBoth(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_callback = 0;
  PyObject *__pyx_v_args = 0;
  PyObject *__pyx_v_kw = 0;
  PyObject *__pyx_r;
  int __pyx_1;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"callback",0};
  if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 1, &__pyx_v_args, &__pyx_v_kw) < 0) return 0;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_callback)) {
    Py_XDECREF(__pyx_args);
    Py_XDECREF(__pyx_kwds);
    Py_XDECREF(__pyx_v_args);
    Py_XDECREF(__pyx_v_kw);
    return 0;
  }
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_callback);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":131 */
  __pyx_1 = PyObject_IsTrue(__pyx_v_args); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 131; goto __pyx_L1;}
  __pyx_2 = (!__pyx_1);
  if (__pyx_2) {
    Py_INCREF(Py_None);
    Py_DECREF(__pyx_v_args);
    __pyx_v_args = Py_None;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":132 */
  __pyx_1 = PyObject_IsTrue(__pyx_v_kw); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 132; goto __pyx_L1;}
  __pyx_2 = (!__pyx_1);
  if (__pyx_2) {
    Py_INCREF(Py_None);
    Py_DECREF(__pyx_v_kw);
    __pyx_v_kw = Py_None;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":133 */
  __pyx_3 = ((struct __pyx_vtabstruct_6cdefer_Deferred *)((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->__pyx_vtab)->_addCallbacks(((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self),__pyx_v_callback,__pyx_v_callback,__pyx_v_args,__pyx_v_kw,__pyx_v_args,__pyx_v_kw); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 133; goto __pyx_L1;}
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cdefer.Deferred.addBoth");
  __pyx_r = 0;
  __pyx_L0:;
  Py_XDECREF(__pyx_v_args);
  Py_XDECREF(__pyx_v_kw);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_callback);
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

static PyObject *__pyx_n_callback;
static PyObject *__pyx_n_errback;

static PyObject *__pyx_f_6cdefer_8Deferred_chainDeferred(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6cdefer_8Deferred_chainDeferred[] = "Chain another Deferred to this Deferred.\n\n        This method adds callbacks to this Deferred to call d\'s callback or\n        errback, as appropriate.";
static PyObject *__pyx_f_6cdefer_8Deferred_chainDeferred(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_d = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"d",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_d)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_d);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":140 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_d, __pyx_n_callback); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 140; goto __pyx_L1;}
  __pyx_2 = PyObject_GetAttr(__pyx_v_d, __pyx_n_errback); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 140; goto __pyx_L1;}
  __pyx_3 = ((struct __pyx_vtabstruct_6cdefer_Deferred *)((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->__pyx_vtab)->_addCallbacks(((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self),__pyx_1,__pyx_2,Py_None,Py_None,Py_None,Py_None); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 140; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cdefer.Deferred.chainDeferred");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_d);
  return __pyx_r;
}

static PyObject *__pyx_f_6cdefer_8Deferred_callback(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6cdefer_8Deferred_callback[] = "Run all success callbacks that have been added to this Deferred.\n\n        Each callback will have its result passed as the first\n        argument to the next; this way, the callbacks act as a\n        \'processing chain\'. Also, if the success-callback returns a Failure\n        or raises an Exception, processing will continue on the *error*-\n        callback chain.\n        ";
static PyObject *__pyx_f_6cdefer_8Deferred_callback(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_result = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {"result",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_result)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_result);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":151 */
  if (!(!PyObject_TypeCheck(__pyx_v_result,((PyObject*)__pyx_ptype_6cdefer_Deferred)))) {
    PyErr_SetNone(PyExc_AssertionError);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 151; goto __pyx_L1;}
  }

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":152 */
  __pyx_1 = ((struct __pyx_vtabstruct_6cdefer_Deferred *)((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->__pyx_vtab)->_startRunCallbacks(((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self),__pyx_v_result); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 152; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("cdefer.Deferred.callback");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_result);
  return __pyx_r;
}

static PyObject *__pyx_n___class__;

static PyObject *__pyx_f_6cdefer_8Deferred_errback(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6cdefer_8Deferred_errback[] = "Run all error callbacks that have been added to this Deferred.\n\n        Each callback will have its result passed as the first\n        argument to the next; this way, the callbacks act as a\n        \'processing chain\'. Also, if the error-callback returns a non-Failure\n        or doesn\'t raise an Exception, processing will continue on the\n        *success*-callback chain.\n\n        If the argument that\'s passed to me is not a Failure instance,\n        it will be embedded in one. If no argument is passed, a Failure\n        instance will be created based on the current traceback stack.\n\n        Passing a string as `fail\' is deprecated, and will be punished with\n        a warning message.\n        ";
static PyObject *__pyx_f_6cdefer_8Deferred_errback(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_fail = 0;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"fail",0};
  __pyx_v_fail = __pyx_k20;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "|O", __pyx_argnames, &__pyx_v_fail)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_fail);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":171 */
  __pyx_2 = Pyrex_GETTYPE(__pyx_v_fail); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 171; goto __pyx_L1;}
  __pyx_1 = __pyx_2 == __pyx_v_6cdefer_PyClass_Type;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_1) {
    __pyx_2 = PyObject_GetAttr(__pyx_v_fail, __pyx_n___class__); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 171; goto __pyx_L1;}
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_Failure); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 171; goto __pyx_L1;}
    __pyx_1 = __pyx_2 == __pyx_3;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
  }
  __pyx_4 = (!__pyx_1);
  if (__pyx_4) {

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":172 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_Failure); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 172; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 172; goto __pyx_L1;}
    Py_INCREF(__pyx_v_fail);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_fail);
    __pyx_5 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 172; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_fail);
    __pyx_v_fail = __pyx_5;
    __pyx_5 = 0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":174 */
  __pyx_2 = ((struct __pyx_vtabstruct_6cdefer_Deferred *)((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->__pyx_vtab)->_startRunCallbacks(((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self),__pyx_v_fail); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 174; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cdefer.Deferred.errback");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_fail);
  return __pyx_r;
}

static PyObject *__pyx_f_6cdefer_8Deferred_pause(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6cdefer_8Deferred_pause[] = "Stop processing on a Deferred until L{unpause}() is called.\n        ";
static PyObject *__pyx_f_6cdefer_8Deferred_pause(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":180 */
  ((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->paused = (((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->paused + 1);

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cdefer.Deferred.pause");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_6cdefer_8Deferred_unpause(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6cdefer_8Deferred_unpause[] = "Process all callbacks made since L{pause}() was called.\n        ";
static PyObject *__pyx_f_6cdefer_8Deferred_unpause(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":186 */
  ((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->paused = (((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->paused - 1);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":187 */
  __pyx_1 = ((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->paused;
  if (__pyx_1) {

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":188 */
    __pyx_r = Py_None; Py_INCREF(__pyx_r);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":189 */
  __pyx_1 = ((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->result != __pyx_v_6cdefer__marker;
  if (__pyx_1) {

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":190 */
    __pyx_2 = ((struct __pyx_vtabstruct_6cdefer_Deferred *)((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->__pyx_vtab)->_runCallbacks(((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 190; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cdefer.Deferred.unpause");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_unpause;

static PyObject *__pyx_f_6cdefer_8Deferred__continue(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_6cdefer_8Deferred__continue(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_result = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"result",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_result)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_result);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":193 */
  Py_INCREF(__pyx_v_result);
  Py_DECREF(((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->result);
  ((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->result = __pyx_v_result;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":194 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_unpause); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 194; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 194; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 194; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cdefer.Deferred._continue");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_result);
  return __pyx_r;
}

static PyObject *__pyx_n__debugInfo;
static PyObject *__pyx_n_invoker;

static PyObject *__pyx_k23p;

static char (__pyx_k23[]) = "\n";

static PyObject *__pyx_f_6cdefer_8Deferred__startRunCallbacks(struct __pyx_obj_6cdefer_Deferred *__pyx_v_self,PyObject *__pyx_v_result) {
  PyObject *__pyx_v_extra;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_result);
  __pyx_v_extra = Py_None; Py_INCREF(__pyx_v_extra);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":197 */
  __pyx_1 = __pyx_v_self->result != __pyx_v_6cdefer__marker;
  if (__pyx_1) {

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":198 */
    __pyx_1 = __pyx_v_self->debugInfo != Py_None;
    if (__pyx_1) {

      /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":199 */
      __pyx_2 = PyObject_GetAttr(__pyx_v_self->debugInfo, __pyx_n__debugInfo); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 199; goto __pyx_L1;}
      __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 199; goto __pyx_L1;}
      __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 199; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_2 = PyNumber_Add(__pyx_k23p, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 199; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_v_extra);
      __pyx_v_extra = __pyx_2;
      __pyx_2 = 0;

      /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":200 */
      __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_AlreadyCalledError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 200; goto __pyx_L1;}
      __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 200; goto __pyx_L1;}
      Py_INCREF(__pyx_v_extra);
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_extra);
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 200; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __Pyx_Raise(__pyx_2, 0, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 200; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":201 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_AlreadyCalledError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 201; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 201; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":203 */
  __pyx_1 = __pyx_v_self->debugInfo != Py_None;
  if (__pyx_1) {

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":204 */
    __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_traceback); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 204; goto __pyx_L1;}
    __pyx_2 = PyObject_GetAttr(__pyx_4, __pyx_n_format_stack); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 204; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 204; goto __pyx_L1;}
    __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 204; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_2 = PySequence_GetSlice(__pyx_4, 0, (-2)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 204; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    if (PyObject_SetAttr(__pyx_v_self->debugInfo, __pyx_n_invoker, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 204; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":206 */
  Py_INCREF(__pyx_v_result);
  Py_DECREF(__pyx_v_self->result);
  __pyx_v_self->result = __pyx_v_result;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":207 */
  __pyx_3 = ((struct __pyx_vtabstruct_6cdefer_Deferred *)__pyx_v_self->__pyx_vtab)->_runCallbacks(__pyx_v_self); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cdefer.Deferred._startRunCallbacks");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_extra);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_result);
  return __pyx_r;
}

static PyObject *__pyx_n_pause;
static PyObject *__pyx_n_addBoth;
static PyObject *__pyx_n__continue;
static PyObject *__pyx_n_failResult;
static PyObject *__pyx_n_cleanFailure;

static PyObject *__pyx_f_6cdefer_8Deferred__runCallbacks(struct __pyx_obj_6cdefer_Deferred *__pyx_v_self) {
  int __pyx_v_i;
  int __pyx_v_size;
  int __pyx_v_offset;
  PyObject *__pyx_v_cb;
  PyObject *__pyx_v_item;
  PyObject *__pyx_v_callback;
  PyObject *__pyx_v_args;
  PyObject *__pyx_v_kw;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  int __pyx_5;
  Py_INCREF(__pyx_v_self);
  __pyx_v_cb = Py_None; Py_INCREF(__pyx_v_cb);
  __pyx_v_item = Py_None; Py_INCREF(__pyx_v_item);
  __pyx_v_callback = Py_None; Py_INCREF(__pyx_v_callback);
  __pyx_v_args = Py_None; Py_INCREF(__pyx_v_args);
  __pyx_v_kw = Py_None; Py_INCREF(__pyx_v_kw);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":211 */
  __pyx_v_offset = 0;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":213 */
  __pyx_1 = (!__pyx_v_self->paused);
  if (__pyx_1) {

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":214 */
    Py_INCREF(__pyx_v_self->callbacks);
    Py_DECREF(__pyx_v_cb);
    __pyx_v_cb = __pyx_v_self->callbacks;

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":215 */
    __pyx_1 = PyList_GET_SIZE(__pyx_v_cb); if (__pyx_1 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 215; goto __pyx_L1;}
    __pyx_v_size = __pyx_1;

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":216 */
    for (__pyx_v_i = 0; __pyx_v_i < __pyx_v_size; ++__pyx_v_i) {

      /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":217 */
      __pyx_2 = PyList_GET_ITEM(__pyx_v_cb,__pyx_v_i); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 217; goto __pyx_L1;}
      Py_DECREF(__pyx_v_item);
      __pyx_v_item = __pyx_2;
      __pyx_2 = 0;

      /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":218 */
      Py_INCREF(__pyx_v_item);

      /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":219 */
      __pyx_2 = Pyrex_GETTYPE(__pyx_v_self->result); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 219; goto __pyx_L1;}
      __pyx_1 = __pyx_2 == __pyx_v_6cdefer_PyClass_Type;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (__pyx_1) {
        __pyx_2 = PyObject_GetAttr(__pyx_v_self->result, __pyx_n___class__); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 219; goto __pyx_L1;}
        __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_Failure); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 219; goto __pyx_L1;}
        __pyx_1 = __pyx_2 == __pyx_3;
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        Py_DECREF(__pyx_3); __pyx_3 = 0;
      }
      if (__pyx_1) {

        /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":220 */
        __pyx_v_offset = 3;
        goto __pyx_L5;
      }
      __pyx_L5:;

      /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":221 */
      __pyx_2 = PyTuple_GET_ITEM(__pyx_v_item,(__pyx_v_offset + 0)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 221; goto __pyx_L1;}
      Py_DECREF(__pyx_v_callback);
      __pyx_v_callback = __pyx_2;
      __pyx_2 = 0;

      /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":222 */
      Py_INCREF(__pyx_v_callback);

      /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":223 */
      __pyx_3 = PyTuple_GET_ITEM(__pyx_v_item,(__pyx_v_offset + 1)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 223; goto __pyx_L1;}
      Py_DECREF(__pyx_v_args);
      __pyx_v_args = __pyx_3;
      __pyx_3 = 0;

      /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":224 */
      Py_INCREF(__pyx_v_args);

      /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":225 */
      __pyx_2 = PyTuple_GET_ITEM(__pyx_v_item,(__pyx_v_offset + 2)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 225; goto __pyx_L1;}
      Py_DECREF(__pyx_v_kw);
      __pyx_v_kw = __pyx_2;
      __pyx_2 = 0;

      /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":226 */
      Py_INCREF(__pyx_v_kw);

      /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":228 */
      __pyx_1 = __pyx_v_callback != Py_None;
      if (__pyx_1) {

        /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":229 */
        /*try:*/ {

          /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":232 */
          __pyx_1 = __pyx_v_kw == Py_None;
          if (__pyx_1) {

            /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":233 */
            __pyx_1 = __pyx_v_args == Py_None;
            if (__pyx_1) {

              /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":234 */
              __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 234; goto __pyx_L7;}
              Py_INCREF(__pyx_v_self->result);
              PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_self->result);
              __pyx_2 = PyObject_CallObject(__pyx_v_callback, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 234; goto __pyx_L7;}
              Py_DECREF(__pyx_3); __pyx_3 = 0;
              Py_DECREF(__pyx_v_self->result);
              __pyx_v_self->result = __pyx_2;
              __pyx_2 = 0;
              goto __pyx_L10;
            }
            /*else*/ {

              /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":236 */
              __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 236; goto __pyx_L7;}
              Py_INCREF(__pyx_v_self->result);
              PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_self->result);
              __pyx_2 = PySequence_Tuple(__pyx_v_args); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 236; goto __pyx_L7;}
              __pyx_4 = PyNumber_Add(__pyx_3, __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 236; goto __pyx_L7;}
              Py_DECREF(__pyx_3); __pyx_3 = 0;
              Py_DECREF(__pyx_2); __pyx_2 = 0;
              __pyx_3 = PyObject_CallObject(__pyx_v_callback, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 236; goto __pyx_L7;}
              Py_DECREF(__pyx_4); __pyx_4 = 0;
              Py_DECREF(__pyx_v_self->result);
              __pyx_v_self->result = __pyx_3;
              __pyx_3 = 0;
            }
            __pyx_L10:;
            goto __pyx_L9;
          }
          /*else*/ {

            /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":238 */
            __pyx_1 = __pyx_v_args == Py_None;
            if (__pyx_1) {

              /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":239 */
              __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 239; goto __pyx_L7;}
              Py_INCREF(__pyx_v_self->result);
              PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_self->result);
              __pyx_4 = PyEval_CallObjectWithKeywords(__pyx_v_callback, __pyx_2, __pyx_v_kw); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 239; goto __pyx_L7;}
              Py_DECREF(__pyx_2); __pyx_2 = 0;
              Py_DECREF(__pyx_v_self->result);
              __pyx_v_self->result = __pyx_4;
              __pyx_4 = 0;
              goto __pyx_L11;
            }
            /*else*/ {

              /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":241 */
              __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 241; goto __pyx_L7;}
              Py_INCREF(__pyx_v_self->result);
              PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_self->result);
              __pyx_2 = PySequence_Tuple(__pyx_v_args); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 241; goto __pyx_L7;}
              __pyx_4 = PyNumber_Add(__pyx_3, __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 241; goto __pyx_L7;}
              Py_DECREF(__pyx_3); __pyx_3 = 0;
              Py_DECREF(__pyx_2); __pyx_2 = 0;
              __pyx_3 = PyEval_CallObjectWithKeywords(__pyx_v_callback, __pyx_4, __pyx_v_kw); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 241; goto __pyx_L7;}
              Py_DECREF(__pyx_4); __pyx_4 = 0;
              Py_DECREF(__pyx_v_self->result);
              __pyx_v_self->result = __pyx_3;
              __pyx_3 = 0;
            }
            __pyx_L11:;
          }
          __pyx_L9:;

          /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":243 */
          __pyx_1 = PyObject_TypeCheck(__pyx_v_self->result,((PyObject*)__pyx_ptype_6cdefer_Deferred));
          if (__pyx_1) {

            /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":244 */
            __pyx_1 = PyList_SetSlice(__pyx_v_cb,0,(__pyx_v_i + 1),0); if (__pyx_1 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 244; goto __pyx_L7;}

            /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":252 */
            __pyx_2 = PyObject_GetAttr(((PyObject *)__pyx_v_self), __pyx_n_pause); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 252; goto __pyx_L7;}
            __pyx_4 = PyTuple_New(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 252; goto __pyx_L7;}
            __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 252; goto __pyx_L7;}
            Py_DECREF(__pyx_2); __pyx_2 = 0;
            Py_DECREF(__pyx_4); __pyx_4 = 0;
            Py_DECREF(__pyx_3); __pyx_3 = 0;

            /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":253 */
            __pyx_2 = PyObject_GetAttr(__pyx_v_self->result, __pyx_n_addBoth); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 253; goto __pyx_L7;}
            __pyx_4 = PyObject_GetAttr(((PyObject *)__pyx_v_self), __pyx_n__continue); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 253; goto __pyx_L7;}
            __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 253; goto __pyx_L7;}
            PyTuple_SET_ITEM(__pyx_3, 0, __pyx_4);
            __pyx_4 = 0;
            __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 253; goto __pyx_L7;}
            Py_DECREF(__pyx_2); __pyx_2 = 0;
            Py_DECREF(__pyx_3); __pyx_3 = 0;
            Py_DECREF(__pyx_4); __pyx_4 = 0;

            /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":254 */
            goto __pyx_L4;
            goto __pyx_L12;
          }
          __pyx_L12:;
        }
        goto __pyx_L8;
        __pyx_L7:;
        Py_XDECREF(__pyx_2); __pyx_2 = 0;
        Py_XDECREF(__pyx_3); __pyx_3 = 0;
        Py_XDECREF(__pyx_4); __pyx_4 = 0;

        /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":255 */
        /*except:*/ {
          __Pyx_AddTraceback("cdefer._runCallbacks");
          __pyx_2 = __Pyx_GetExcValue(); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 255; goto __pyx_L1;}
          Py_DECREF(__pyx_2); __pyx_2 = 0;

          /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":256 */
          __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_Failure); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 256; goto __pyx_L1;}
          __pyx_4 = PyTuple_New(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 256; goto __pyx_L1;}
          __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 256; goto __pyx_L1;}
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          Py_DECREF(__pyx_4); __pyx_4 = 0;
          Py_DECREF(__pyx_v_self->result);
          __pyx_v_self->result = __pyx_2;
          __pyx_2 = 0;
          goto __pyx_L8;
        }
        __pyx_L8:;
        goto __pyx_L6;
      }
      __pyx_L6:;
      __pyx_L3:;
    }
    /*else*/ {

      /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":258 */
      __pyx_1 = PyList_GET_SIZE(__pyx_v_cb); if (__pyx_1 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 258; goto __pyx_L1;}
      __pyx_5 = PyList_SetSlice(__pyx_v_cb,0,__pyx_1,0); if (__pyx_5 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 258; goto __pyx_L1;}
    }
    __pyx_L4:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":260 */
  __pyx_3 = Pyrex_GETTYPE(__pyx_v_self->result); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 260; goto __pyx_L1;}
  __pyx_1 = __pyx_3 == __pyx_v_6cdefer_PyClass_Type;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (__pyx_1) {
    __pyx_4 = PyObject_GetAttr(__pyx_v_self->result, __pyx_n___class__); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 260; goto __pyx_L1;}
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_Failure); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 260; goto __pyx_L1;}
    __pyx_1 = __pyx_4 == __pyx_2;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_1) {

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":261 */
    __pyx_5 = __pyx_v_self->debugInfo == Py_None;
    if (__pyx_5) {

      /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":262 */
      __pyx_v_self->isFailure = 1;
      goto __pyx_L14;
    }
    /*else*/ {

      /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":264 */
      if (PyObject_SetAttr(__pyx_v_self->debugInfo, __pyx_n_failResult, __pyx_v_self->result) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 264; goto __pyx_L1;}
    }
    __pyx_L14:;

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":265 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_self->result, __pyx_n_cleanFailure); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 265; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 265; goto __pyx_L1;}
    __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 265; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    goto __pyx_L13;
  }
  /*else*/ {

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":267 */
    __pyx_1 = __pyx_v_self->debugInfo == Py_None;
    if (__pyx_1) {

      /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":268 */
      __pyx_v_self->isFailure = 0;
      goto __pyx_L15;
    }
    /*else*/ {

      /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":270 */
      if (PyObject_SetAttr(__pyx_v_self->debugInfo, __pyx_n_failResult, Py_None) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 270; goto __pyx_L1;}
    }
    __pyx_L15:;
  }
  __pyx_L13:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cdefer.Deferred._runCallbacks");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_cb);
  Py_DECREF(__pyx_v_item);
  Py_DECREF(__pyx_v_callback);
  Py_DECREF(__pyx_v_args);
  Py_DECREF(__pyx_v_kw);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n___name__;
static PyObject *__pyx_n_called;
static PyObject *__pyx_n_hex;

static PyObject *__pyx_k24p;
static PyObject *__pyx_k25p;

static char (__pyx_k24[]) = "<%s at %s  current result: %r>";
static char (__pyx_k25[]) = "<%s at %s>";

static PyObject *__pyx_f_6cdefer_8Deferred___str__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_6cdefer_8Deferred___str__(PyObject *__pyx_v_self) {
  PyObject *__pyx_v_cname;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  int __pyx_3;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_cname = Py_None; Py_INCREF(__pyx_v_cname);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":273 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___class__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 273; goto __pyx_L1;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n___name__); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 273; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_cname);
  __pyx_v_cname = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":274 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_called); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 274; goto __pyx_L1;}
  __pyx_3 = PyObject_IsTrue(__pyx_1); if (__pyx_3 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 274; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_3) {

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":275 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_hex); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 275; goto __pyx_L1;}
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_unsignedID); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 275; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 275; goto __pyx_L1;}
    Py_INCREF(__pyx_v_self);
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_self);
    __pyx_5 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 275; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 275; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_5);
    __pyx_5 = 0;
    __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 275; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyTuple_New(3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 275; goto __pyx_L1;}
    Py_INCREF(__pyx_v_cname);
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_v_cname);
    PyTuple_SET_ITEM(__pyx_5, 1, __pyx_4);
    Py_INCREF(((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->result);
    PyTuple_SET_ITEM(__pyx_5, 2, ((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->result);
    __pyx_4 = 0;
    __pyx_2 = PyNumber_Remainder(__pyx_k24p, __pyx_5); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 275; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":277 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_hex); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 277; goto __pyx_L1;}
  __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_unsignedID); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 277; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 277; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_v_self);
  __pyx_2 = PyObject_CallObject(__pyx_4, __pyx_5); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 277; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 277; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_5 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 277; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 277; goto __pyx_L1;}
  Py_INCREF(__pyx_v_cname);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_cname);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_5);
  __pyx_5 = 0;
  __pyx_1 = PyNumber_Remainder(__pyx_k25p, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 277; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cdefer.Deferred.__str__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_cname);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n___str__;

static PyObject *__pyx_f_6cdefer_8Deferred___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_6cdefer_8Deferred___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":279 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___str__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 279; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 279; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 279; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cdefer.Deferred.__repr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_msg;
static PyObject *__pyx_n_isError;

static PyObject *__pyx_k26p;

static char (__pyx_k26[]) = "Unhandled error in Deferred (no debugging info available)";

static void __pyx_f_6cdefer_8Deferred___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_f_6cdefer_8Deferred___dealloc__(PyObject *__pyx_v_self) {
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":283 */
  PyObject_GC_UnTrack(__pyx_v_self);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":287 */
  __pyx_1 = ((struct __pyx_obj_6cdefer_Deferred *)__pyx_v_self)->isFailure;
  if (__pyx_1) {

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":288 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_log); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 288; goto __pyx_L1;}
    __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_msg); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 288; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 288; goto __pyx_L1;}
    Py_INCREF(__pyx_k26p);
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_k26p);
    __pyx_4 = PyDict_New(); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 288; goto __pyx_L1;}
    __pyx_5 = PyInt_FromLong(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 288; goto __pyx_L1;}
    if (PyDict_SetItem(__pyx_4, __pyx_n_isError, __pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 288; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_5 = PyEval_CallObjectWithKeywords(__pyx_3, __pyx_2, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 288; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cdefer.Deferred.__dealloc__");
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
}

static PyObject *__pyx_f_6cdefer_8Deferred__timeout(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_6cdefer_8Deferred__timeout(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_timeoutFunc = 0;
  PyObject *__pyx_v_args = 0;
  PyObject *__pyx_v_kw = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  int __pyx_3;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"timeoutFunc","args","kw",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOO", __pyx_argnames, &__pyx_v_timeoutFunc, &__pyx_v_args, &__pyx_v_kw)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_timeoutFunc);
  Py_INCREF(__pyx_v_args);
  Py_INCREF(__pyx_v_kw);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":292 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_called); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; goto __pyx_L1;}
  __pyx_2 = PyObject_IsTrue(__pyx_1); if (__pyx_2 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = (!__pyx_2);
  if (__pyx_3) {

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":293 */
    __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 293; goto __pyx_L1;}
    Py_INCREF(__pyx_v_self);
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
    __pyx_4 = PySequence_Tuple(__pyx_v_args); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 293; goto __pyx_L1;}
    __pyx_5 = PyNumber_Add(__pyx_1, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 293; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_1 = PyEval_CallObjectWithKeywords(__pyx_v_timeoutFunc, __pyx_5, __pyx_v_kw); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 293; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cdefer.Deferred._timeout");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_timeoutFunc);
  Py_DECREF(__pyx_v_args);
  Py_DECREF(__pyx_v_kw);
  return __pyx_r;
}

static PyObject *__pyx_n_warn;
static PyObject *__pyx_n_DeprecationWarning;
static PyObject *__pyx_n_stacklevel;
static PyObject *__pyx_n_reactor;
static PyObject *__pyx_n_callLater;
static PyObject *__pyx_n__timeout;

static PyObject *__pyx_k28p;
static PyObject *__pyx_k30p;

static char (__pyx_k28[]) = "Deferred.setTimeout is deprecated. It's a bad idea, don't use it.";
static char (__pyx_k30[]) = "twisted.internet";

static PyObject *__pyx_f_6cdefer_8Deferred_setTimeout(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_6cdefer_8Deferred_setTimeout[] = "Set a timeout function to be triggered if I am not called.\n\n        @param seconds: How long to wait (from now) before firing the\n        timeoutFunc.\n\n        @param timeoutFunc: will receive the Deferred and *args, **kw as its\n        arguments.  The default timeoutFunc will call the errback with a\n        L{TimeoutError}.\n\n        DON\'T USE THIS! It\'s a bad idea! Use a function called by reactor.callLater instead\n        to accomplish the same thing!\n\n        YOU HAVE BEEN WARNED!\n        ";
static PyObject *__pyx_f_6cdefer_8Deferred_setTimeout(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_seconds = 0;
  PyObject *__pyx_v_timeoutFunc = 0;
  PyObject *__pyx_v_args = 0;
  PyObject *__pyx_v_kw = 0;
  PyObject *__pyx_v_reactor;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  int __pyx_5;
  static char *__pyx_argnames[] = {"seconds","timeoutFunc",0};
  __pyx_v_timeoutFunc = __pyx_k21;
  if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 2, &__pyx_v_args, &__pyx_v_kw) < 0) return 0;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_seconds, &__pyx_v_timeoutFunc)) {
    Py_XDECREF(__pyx_args);
    Py_XDECREF(__pyx_kwds);
    Py_XDECREF(__pyx_v_args);
    Py_XDECREF(__pyx_v_kw);
    return 0;
  }
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_seconds);
  Py_INCREF(__pyx_v_timeoutFunc);
  __pyx_v_reactor = Py_None; Py_INCREF(__pyx_v_reactor);

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":311 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_warnings); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_warn); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_DeprecationWarning); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 312; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
  Py_INCREF(__pyx_k28p);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k28p);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_1);
  __pyx_1 = 0;
  __pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
  __pyx_4 = PyInt_FromLong(2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 312; goto __pyx_L1;}
  if (PyDict_SetItem(__pyx_1, __pyx_n_stacklevel, __pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_4 = PyEval_CallObjectWithKeywords(__pyx_2, __pyx_3, __pyx_1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":313 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_called); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 313; goto __pyx_L1;}
  __pyx_5 = PyObject_IsTrue(__pyx_2); if (__pyx_5 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 313; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_5) {

    /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":314 */
    __pyx_r = Py_None; Py_INCREF(__pyx_r);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":316 */
  __pyx_3 = PyList_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 316; goto __pyx_L1;}
  Py_INCREF(__pyx_n_reactor);
  PyList_SET_ITEM(__pyx_3, 0, __pyx_n_reactor);
  __pyx_1 = __Pyx_Import(__pyx_k30p, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 316; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = PyObject_GetAttr(__pyx_1, __pyx_n_reactor); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 316; goto __pyx_L1;}
  Py_DECREF(__pyx_v_reactor);
  __pyx_v_reactor = __pyx_4;
  __pyx_4 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":317 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_reactor, __pyx_n_callLater); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 317; goto __pyx_L1;}
  __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n__timeout); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 317; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(5); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 317; goto __pyx_L1;}
  Py_INCREF(__pyx_v_seconds);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_seconds);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_3);
  Py_INCREF(__pyx_v_timeoutFunc);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_v_timeoutFunc);
  Py_INCREF(__pyx_v_args);
  PyTuple_SET_ITEM(__pyx_1, 3, __pyx_v_args);
  Py_INCREF(__pyx_v_kw);
  PyTuple_SET_ITEM(__pyx_1, 4, __pyx_v_kw);
  __pyx_3 = 0;
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 317; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_4;
  __pyx_4 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cdefer.Deferred.setTimeout");
  __pyx_r = 0;
  __pyx_L0:;
  Py_XDECREF(__pyx_v_args);
  Py_XDECREF(__pyx_v_kw);
  Py_DECREF(__pyx_v_reactor);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_seconds);
  Py_DECREF(__pyx_v_timeoutFunc);
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

static __Pyx_InternTabEntry __pyx_intern_tab[] = {
  {&__pyx_n_AlreadyCalledError, "AlreadyCalledError"},
  {&__pyx_n_ClassType, "ClassType"},
  {&__pyx_n_DebugInfo, "DebugInfo"},
  {&__pyx_n_DeprecationWarning, "DeprecationWarning"},
  {&__pyx_n_Failure, "Failure"},
  {&__pyx_n___class__, "__class__"},
  {&__pyx_n___name__, "__name__"},
  {&__pyx_n___str__, "__str__"},
  {&__pyx_n__continue, "_continue"},
  {&__pyx_n__debugInfo, "_debugInfo"},
  {&__pyx_n__timeout, "_timeout"},
  {&__pyx_n_addBoth, "addBoth"},
  {&__pyx_n_callLater, "callLater"},
  {&__pyx_n_callback, "callback"},
  {&__pyx_n_called, "called"},
  {&__pyx_n_cleanFailure, "cleanFailure"},
  {&__pyx_n_creator, "creator"},
  {&__pyx_n_errback, "errback"},
  {&__pyx_n_failResult, "failResult"},
  {&__pyx_n_failure, "failure"},
  {&__pyx_n_format_stack, "format_stack"},
  {&__pyx_n_hex, "hex"},
  {&__pyx_n_invoker, "invoker"},
  {&__pyx_n_isError, "isError"},
  {&__pyx_n_log, "log"},
  {&__pyx_n_msg, "msg"},
  {&__pyx_n_object, "object"},
  {&__pyx_n_pause, "pause"},
  {&__pyx_n_reactor, "reactor"},
  {&__pyx_n_setDebugging, "setDebugging"},
  {&__pyx_n_stacklevel, "stacklevel"},
  {&__pyx_n_timeout, "timeout"},
  {&__pyx_n_traceback, "traceback"},
  {&__pyx_n_types, "types"},
  {&__pyx_n_unpause, "unpause"},
  {&__pyx_n_unsignedID, "unsignedID"},
  {&__pyx_n_warn, "warn"},
  {&__pyx_n_warnings, "warnings"},
  {0, 0}
};

static __Pyx_StringTabEntry __pyx_string_tab[] = {
  {&__pyx_k4p, __pyx_k4, sizeof(__pyx_k4)},
  {&__pyx_k7p, __pyx_k7, sizeof(__pyx_k7)},
  {&__pyx_k9p, __pyx_k9, sizeof(__pyx_k9)},
  {&__pyx_k11p, __pyx_k11, sizeof(__pyx_k11)},
  {&__pyx_k23p, __pyx_k23, sizeof(__pyx_k23)},
  {&__pyx_k24p, __pyx_k24, sizeof(__pyx_k24)},
  {&__pyx_k25p, __pyx_k25, sizeof(__pyx_k25)},
  {&__pyx_k26p, __pyx_k26, sizeof(__pyx_k26)},
  {&__pyx_k28p, __pyx_k28, sizeof(__pyx_k28)},
  {&__pyx_k30p, __pyx_k30, sizeof(__pyx_k30)},
  {0, 0, 0}
};
static struct __pyx_vtabstruct_6cdefer_Deferred __pyx_vtable_6cdefer_Deferred;

static PyObject *__pyx_tp_new_6cdefer_Deferred(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_6cdefer_Deferred *p = (struct __pyx_obj_6cdefer_Deferred *)o;
  (struct __pyx_vtabstruct_6cdefer_Deferred *)p->__pyx_vtab = __pyx_vtabptr_6cdefer_Deferred;
  p->result = Py_None; Py_INCREF(p->result);
  p->callbacks = Py_None; Py_INCREF(p->callbacks);
  p->debugInfo = Py_None; Py_INCREF(p->debugInfo);
  return o;
}

static void __pyx_tp_dealloc_6cdefer_Deferred(PyObject *o) {
  struct __pyx_obj_6cdefer_Deferred *p = (struct __pyx_obj_6cdefer_Deferred *)o;
  {
    PyObject *etype, *eval, *etb;
    PyErr_Fetch(&etype, &eval, &etb);
    ++o->ob_refcnt;
    __pyx_f_6cdefer_8Deferred___dealloc__(o);
    if (PyErr_Occurred()) PyErr_WriteUnraisable(o);
    --o->ob_refcnt;
    PyErr_Restore(etype, eval, etb);
  }
  Py_XDECREF(p->result);
  Py_XDECREF(p->callbacks);
  Py_XDECREF(p->debugInfo);
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_6cdefer_Deferred(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_6cdefer_Deferred *p = (struct __pyx_obj_6cdefer_Deferred *)o;
  if (p->result) {
    e = (*v)(p->result, a); if (e) return e;
  }
  if (p->callbacks) {
    e = (*v)(p->callbacks, a); if (e) return e;
  }
  if (p->debugInfo) {
    e = (*v)(p->debugInfo, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_6cdefer_Deferred(PyObject *o) {
  struct __pyx_obj_6cdefer_Deferred *p = (struct __pyx_obj_6cdefer_Deferred *)o;
  Py_XDECREF(p->result);
  p->result = Py_None; Py_INCREF(p->result);
  Py_XDECREF(p->callbacks);
  p->callbacks = Py_None; Py_INCREF(p->callbacks);
  Py_XDECREF(p->debugInfo);
  p->debugInfo = Py_None; Py_INCREF(p->debugInfo);
  return 0;
}

static PyObject *__pyx_getprop_6cdefer_8Deferred_called(PyObject *o, void *x) {
  return __pyx_f_6cdefer_8Deferred_6called___get__(o);
}

static struct PyMethodDef __pyx_methods_6cdefer_Deferred[] = {
  {"addCallbacks", (PyCFunction)__pyx_f_6cdefer_8Deferred_addCallbacks, METH_VARARGS|METH_KEYWORDS, __pyx_doc_6cdefer_8Deferred_addCallbacks},
  {"addCallback", (PyCFunction)__pyx_f_6cdefer_8Deferred_addCallback, METH_VARARGS|METH_KEYWORDS, __pyx_doc_6cdefer_8Deferred_addCallback},
  {"addErrback", (PyCFunction)__pyx_f_6cdefer_8Deferred_addErrback, METH_VARARGS|METH_KEYWORDS, __pyx_doc_6cdefer_8Deferred_addErrback},
  {"addBoth", (PyCFunction)__pyx_f_6cdefer_8Deferred_addBoth, METH_VARARGS|METH_KEYWORDS, __pyx_doc_6cdefer_8Deferred_addBoth},
  {"chainDeferred", (PyCFunction)__pyx_f_6cdefer_8Deferred_chainDeferred, METH_VARARGS|METH_KEYWORDS, __pyx_doc_6cdefer_8Deferred_chainDeferred},
  {"callback", (PyCFunction)__pyx_f_6cdefer_8Deferred_callback, METH_VARARGS|METH_KEYWORDS, __pyx_doc_6cdefer_8Deferred_callback},
  {"errback", (PyCFunction)__pyx_f_6cdefer_8Deferred_errback, METH_VARARGS|METH_KEYWORDS, __pyx_doc_6cdefer_8Deferred_errback},
  {"pause", (PyCFunction)__pyx_f_6cdefer_8Deferred_pause, METH_VARARGS|METH_KEYWORDS, __pyx_doc_6cdefer_8Deferred_pause},
  {"unpause", (PyCFunction)__pyx_f_6cdefer_8Deferred_unpause, METH_VARARGS|METH_KEYWORDS, __pyx_doc_6cdefer_8Deferred_unpause},
  {"_continue", (PyCFunction)__pyx_f_6cdefer_8Deferred__continue, METH_VARARGS|METH_KEYWORDS, 0},
  {"_timeout", (PyCFunction)__pyx_f_6cdefer_8Deferred__timeout, METH_VARARGS|METH_KEYWORDS, 0},
  {"setTimeout", (PyCFunction)__pyx_f_6cdefer_8Deferred_setTimeout, METH_VARARGS|METH_KEYWORDS, __pyx_doc_6cdefer_8Deferred_setTimeout},
  {0, 0, 0, 0}
};

static struct PyMemberDef __pyx_members_6cdefer_Deferred[] = {
  {"result", T_OBJECT, offsetof(struct __pyx_obj_6cdefer_Deferred, result), 0, 0},
  {"paused", T_INT, offsetof(struct __pyx_obj_6cdefer_Deferred, paused), READONLY, 0},
  {"callbacks", T_OBJECT, offsetof(struct __pyx_obj_6cdefer_Deferred, callbacks), READONLY, 0},
  {"isFailure", T_INT, offsetof(struct __pyx_obj_6cdefer_Deferred, isFailure), READONLY, 0},
  {"debugInfo", T_OBJECT, offsetof(struct __pyx_obj_6cdefer_Deferred, debugInfo), READONLY, 0},
  {0, 0, 0, 0, 0}
};

static struct PyGetSetDef __pyx_getsets_6cdefer_Deferred[] = {
  {"called", __pyx_getprop_6cdefer_8Deferred_called, 0, 0, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Deferred = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_Deferred = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Deferred = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Deferred = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_6cdefer_Deferred = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "cdefer.Deferred", /*tp_name*/
  sizeof(struct __pyx_obj_6cdefer_Deferred), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_6cdefer_Deferred, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  __pyx_f_6cdefer_8Deferred___repr__, /*tp_repr*/
  &__pyx_tp_as_number_Deferred, /*tp_as_number*/
  &__pyx_tp_as_sequence_Deferred, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Deferred, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  __pyx_f_6cdefer_8Deferred___str__, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Deferred, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "This is a callback which will be put off until later.\n\n    Why do we want this? Well, in cases where a function in a threaded\n    program would block until it gets a result, for Twisted it should\n    not block. Instead, it should return a Deferred.\n\n    This can be implemented for protocols that run over the network by\n    writing an asynchronous protocol for twisted.internet. For methods\n    that come from outside packages that are not under our control, we use\n    threads (see for example L{twisted.enterprise.adbapi}).\n\n    For more information about Deferreds, see doc/howto/defer.html or\n    U{http://www.twistedmatrix.com/documents/howto/defer}\n    ", /*tp_doc*/
  __pyx_tp_traverse_6cdefer_Deferred, /*tp_traverse*/
  __pyx_tp_clear_6cdefer_Deferred, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_6cdefer_Deferred, /*tp_methods*/
  __pyx_members_6cdefer_Deferred, /*tp_members*/
  __pyx_getsets_6cdefer_Deferred, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_6cdefer_8Deferred___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_6cdefer_Deferred, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static struct PyMethodDef __pyx_methods[] = {
  {"setDebugging", (PyCFunction)__pyx_f_6cdefer_setDebugging, METH_VARARGS|METH_KEYWORDS, 0},
  {0, 0, 0, 0}
};

DL_EXPORT(void) initcdefer(void); /*proto*/
DL_EXPORT(void) initcdefer(void) {
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  __pyx_m = Py_InitModule4("cdefer", __pyx_methods, 0, 0, PYTHON_API_VERSION);
  if (!__pyx_m) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
  __pyx_b = PyImport_AddModule("__builtin__");
  if (!__pyx_b) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
  if (PyObject_SetAttrString(__pyx_m, "__builtins__", __pyx_b) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
  if (__Pyx_InternStrings(__pyx_intern_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
  if (__Pyx_InitStrings(__pyx_string_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;};
  __pyx_v_6cdefer__marker = Py_None; Py_INCREF(__pyx_v_6cdefer__marker);
  __pyx_v_6cdefer_PyClass_Type = Py_None; Py_INCREF(__pyx_v_6cdefer_PyClass_Type);
  __pyx_vtabptr_6cdefer_Deferred = &__pyx_vtable_6cdefer_Deferred;
  __pyx_vtable_6cdefer_Deferred._addCallbacks = (void *)__pyx_f_6cdefer_8Deferred__addCallbacks;
  __pyx_vtable_6cdefer_Deferred._startRunCallbacks = (void *)__pyx_f_6cdefer_8Deferred__startRunCallbacks;
  __pyx_vtable_6cdefer_Deferred._runCallbacks = (void *)__pyx_f_6cdefer_8Deferred__runCallbacks;
  __pyx_type_6cdefer_Deferred.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_6cdefer_Deferred) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 46; goto __pyx_L1;}
  if (__Pyx_SetVtable(__pyx_type_6cdefer_Deferred.tp_dict, __pyx_vtabptr_6cdefer_Deferred) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 46; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "Deferred", (PyObject *)&__pyx_type_6cdefer_Deferred) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 46; goto __pyx_L1;}
  __pyx_ptype_6cdefer_Deferred = &__pyx_type_6cdefer_Deferred;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":1 */
  __pyx_1 = __Pyx_Import(__pyx_n_traceback, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_traceback, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":2 */
  __pyx_1 = __Pyx_Import(__pyx_n_warnings, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_warnings, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":3 */
  __pyx_1 = __Pyx_Import(__pyx_n_types, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_types, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":23 */
  __pyx_1 = PyList_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 23; goto __pyx_L1;}
  Py_INCREF(__pyx_n_log);
  PyList_SET_ITEM(__pyx_1, 0, __pyx_n_log);
  Py_INCREF(__pyx_n_failure);
  PyList_SET_ITEM(__pyx_1, 1, __pyx_n_failure);
  __pyx_2 = __Pyx_Import(__pyx_k4p, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 23; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_n_log); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 23; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_log, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 23; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_n_failure); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 23; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_failure, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 23; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":24 */
  __pyx_2 = PyList_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; goto __pyx_L1;}
  Py_INCREF(__pyx_n_Failure);
  PyList_SET_ITEM(__pyx_2, 0, __pyx_n_Failure);
  __pyx_1 = __Pyx_Import(__pyx_k7p, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_Failure); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_Failure, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":25 */
  __pyx_1 = PyList_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 25; goto __pyx_L1;}
  Py_INCREF(__pyx_n_unsignedID);
  PyList_SET_ITEM(__pyx_1, 0, __pyx_n_unsignedID);
  __pyx_2 = __Pyx_Import(__pyx_k9p, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 25; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_n_unsignedID); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 25; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_unsignedID, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 25; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":26 */
  __pyx_2 = PyList_New(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; goto __pyx_L1;}
  Py_INCREF(__pyx_n_AlreadyCalledError);
  PyList_SET_ITEM(__pyx_2, 0, __pyx_n_AlreadyCalledError);
  Py_INCREF(__pyx_n_timeout);
  PyList_SET_ITEM(__pyx_2, 1, __pyx_n_timeout);
  Py_INCREF(__pyx_n_DebugInfo);
  PyList_SET_ITEM(__pyx_2, 2, __pyx_n_DebugInfo);
  __pyx_1 = __Pyx_Import(__pyx_k11p, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_AlreadyCalledError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_AlreadyCalledError, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_timeout); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_timeout, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_DebugInfo); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_DebugInfo, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":30 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_object); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 30; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 30; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 30; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_6cdefer__marker);
  __pyx_v_6cdefer__marker = __pyx_3;
  __pyx_3 = 0;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":33 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_types); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 33; goto __pyx_L1;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_ClassType); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 33; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_6cdefer_PyClass_Type);
  __pyx_v_6cdefer_PyClass_Type = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":96 */
  Py_INCREF(Py_None);
  __pyx_k15 = Py_None;
  Py_INCREF(Py_None);
  __pyx_k16 = Py_None;
  Py_INCREF(Py_None);
  __pyx_k17 = Py_None;
  Py_INCREF(Py_None);
  __pyx_k18 = Py_None;
  Py_INCREF(Py_None);
  __pyx_k19 = Py_None;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":155 */
  Py_INCREF(Py_None);
  __pyx_k20 = Py_None;

  /* "/Users/jknight/Tw/trunk-freh/twisted/internet/cdefer/cdefer.pyx":295 */
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_timeout); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 295; goto __pyx_L1;}
  __pyx_k21 = __pyx_3;
  __pyx_3 = 0;
  return;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cdefer");
}

static char *__pyx_filenames[] = {
  "cdefer.pyx",
};
statichere char **__pyx_f = __pyx_filenames;

/* Runtime support code */

static int __Pyx_GetStarArgs(
    PyObject **args, 
    PyObject **kwds,
    char *kwd_list[], 
    int nargs,
    PyObject **args2, 
    PyObject **kwds2)
{
    PyObject *x = 0, *args1 = 0, *kwds1 = 0;
    
    if (args2)
        *args2 = 0;
    if (kwds2)
        *kwds2 = 0;
    
    if (args2) {
        args1 = PyTuple_GetSlice(*args, 0, nargs);
        if (!args1)
            goto bad;
        *args2 = PyTuple_GetSlice(*args, nargs, PyTuple_Size(*args));
        if (!*args2)
            goto bad;
    }
    else {
        args1 = *args;
        Py_INCREF(args1);
    }
    
    if (kwds2) {
        if (*kwds) {
            char **p;
            kwds1 = PyDict_New();
            if (!kwds)
                goto bad;
            *kwds2 = PyDict_Copy(*kwds);
            if (!*kwds2)
                goto bad;
            for (p = kwd_list; *p; p++) {
                x = PyDict_GetItemString(*kwds, *p);
                if (x) {
                    if (PyDict_SetItemString(kwds1, *p, x) < 0)
                        goto bad;
                    if (PyDict_DelItemString(*kwds2, *p) < 0)
                        goto bad;
                }
            }
        }
        else {
            *kwds2 = PyDict_New();
            if (!*kwds2)
                goto bad;
        }
    }
    else {
        kwds1 = *kwds;
        Py_XINCREF(kwds1);
    }
    
    *args = args1;
    *kwds = kwds1;
    return 0;
bad:
    Py_XDECREF(args1);
    Py_XDECREF(kwds1);
    if (*args2)
        Py_XDECREF(*args2);
    if (*kwds2)
        Py_XDECREF(*kwds2);
    return -1;
}

static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list) {
    PyObject *__import__ = 0;
    PyObject *empty_list = 0;
    PyObject *module = 0;
    PyObject *global_dict = 0;
    PyObject *empty_dict = 0;
    PyObject *list;
    __import__ = PyObject_GetAttrString(__pyx_b, "__import__");
    if (!__import__)
        goto bad;
    if (from_list)
        list = from_list;
    else {
        empty_list = PyList_New(0);
        if (!empty_list)
            goto bad;
        list = empty_list;
    }
    global_dict = PyModule_GetDict(__pyx_m);
    if (!global_dict)
        goto bad;
    empty_dict = PyDict_New();
    if (!empty_dict)
        goto bad;
    module = PyObject_CallFunction(__import__, "OOOO",
        name, global_dict, empty_dict, list);
bad:
    Py_XDECREF(empty_list);
    Py_XDECREF(__import__);
    Py_XDECREF(empty_dict);
    return module;
}

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name) {
    PyObject *result;
    result = PyObject_GetAttr(dict, name);
    if (!result)
        PyErr_SetObject(PyExc_NameError, name);
    return result;
}

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb) {
    Py_XINCREF(type);
    Py_XINCREF(value);
    Py_XINCREF(tb);
    /* First, check the traceback argument, replacing None with NULL. */
    if (tb == Py_None) {
        Py_DECREF(tb);
        tb = 0;
    }
    else if (tb != NULL && !PyTraceBack_Check(tb)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: arg 3 must be a traceback or None");
        goto raise_error;
    }
    /* Next, replace a missing value with None */
    if (value == NULL) {
        value = Py_None;
        Py_INCREF(value);
    }
    /* Next, repeatedly, replace a tuple exception with its first item */
    while (PyTuple_Check(type) && PyTuple_Size(type) > 0) {
        PyObject *tmp = type;
        type = PyTuple_GET_ITEM(type, 0);
        Py_INCREF(type);
        Py_DECREF(tmp);
    }
    if (PyString_Check(type))
        ;
    else if (PyClass_Check(type))
        ; /*PyErr_NormalizeException(&type, &value, &tb);*/
    else if (PyInstance_Check(type)) {
        /* Raising an instance.  The value should be a dummy. */
        if (value != Py_None) {
            PyErr_SetString(PyExc_TypeError,
              "instance exception may not have a separate value");
            goto raise_error;
        }
        else {
            /* Normalize to raise <class>, <instance> */
            Py_DECREF(value);
            value = type;
            type = (PyObject*) ((PyInstanceObject*)type)->in_class;
            Py_INCREF(type);
        }
    }
    else {
        /* Not something you can raise.  You get an exception
           anyway, just not what you specified :-) */
        PyErr_Format(PyExc_TypeError,
                 "exceptions must be strings, classes, or "
                 "instances, not %s", type->ob_type->tp_name);
        goto raise_error;
    }
    PyErr_Restore(type, value, tb);
    return;
raise_error:
    Py_XDECREF(value);
    Py_XDECREF(type);
    Py_XDECREF(tb);
    return;
}

static PyObject *__Pyx_GetExcValue(void) {
    PyObject *type = 0, *value = 0, *tb = 0;
    PyObject *result = 0;
    PyThreadState *tstate = PyThreadState_Get();
    PyErr_Fetch(&type, &value, &tb);
    PyErr_NormalizeException(&type, &value, &tb);
    if (PyErr_Occurred())
        goto bad;
    if (!value) {
        value = Py_None;
        Py_INCREF(value);
    }
    Py_XDECREF(tstate->exc_type);
    Py_XDECREF(tstate->exc_value);
    Py_XDECREF(tstate->exc_traceback);
    tstate->exc_type = type;
    tstate->exc_value = value;
    tstate->exc_traceback = tb;
    result = value;
    Py_XINCREF(result);
    type = 0;
    value = 0;
    tb = 0;
bad:
    Py_XDECREF(type);
    Py_XDECREF(value);
    Py_XDECREF(tb);
    return result;
}

static int __Pyx_InternStrings(__Pyx_InternTabEntry *t) {
    while (t->p) {
        *t->p = PyString_InternFromString(t->s);
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
    while (t->p) {
        *t->p = PyString_FromStringAndSize(t->s, t->n - 1);
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

static int __Pyx_SetVtable(PyObject *dict, void *vtable) {
    PyObject *pycobj = 0;
    int result;
    
    pycobj = PyCObject_FromVoidPtr(vtable, 0);
    if (!pycobj)
        goto bad;
    if (PyDict_SetItemString(dict, "__pyx_vtable__", pycobj) < 0)
        goto bad;
    result = 0;
    goto done;

bad:
    result = -1;
done:
    Py_XDECREF(pycobj);
    return result;
}

#include "compile.h"
#include "frameobject.h"
#include "traceback.h"

static void __Pyx_AddTraceback(char *funcname) {
    PyObject *py_srcfile = 0;
    PyObject *py_funcname = 0;
    PyObject *py_globals = 0;
    PyObject *empty_tuple = 0;
    PyObject *empty_string = 0;
    PyCodeObject *py_code = 0;
    PyFrameObject *py_frame = 0;
    
    py_srcfile = PyString_FromString(__pyx_filename);
    if (!py_srcfile) goto bad;
    py_funcname = PyString_FromString(funcname);
    if (!py_funcname) goto bad;
    py_globals = PyModule_GetDict(__pyx_m);
    if (!py_globals) goto bad;
    empty_tuple = PyTuple_New(0);
    if (!empty_tuple) goto bad;
    empty_string = PyString_FromString("");
    if (!empty_string) goto bad;
    py_code = PyCode_New(
        0,            /*int argcount,*/
        0,            /*int nlocals,*/
        0,            /*int stacksize,*/
        0,            /*int flags,*/
        empty_string, /*PyObject *code,*/
        empty_tuple,  /*PyObject *consts,*/
        empty_tuple,  /*PyObject *names,*/
        empty_tuple,  /*PyObject *varnames,*/
        empty_tuple,  /*PyObject *freevars,*/
        empty_tuple,  /*PyObject *cellvars,*/
        py_srcfile,   /*PyObject *filename,*/
        py_funcname,  /*PyObject *name,*/
        __pyx_lineno,   /*int firstlineno,*/
        empty_string  /*PyObject *lnotab*/
    );
    if (!py_code) goto bad;
    py_frame = PyFrame_New(
        PyThreadState_Get(), /*PyThreadState *tstate,*/
        py_code,             /*PyCodeObject *code,*/
        py_globals,          /*PyObject *globals,*/
        0                    /*PyObject *locals*/
    );
    if (!py_frame) goto bad;
    py_frame->f_lineno = __pyx_lineno;
    PyTraceBack_Here(py_frame);
bad:
    Py_XDECREF(py_srcfile);
    Py_XDECREF(py_funcname);
    Py_XDECREF(empty_tuple);
    Py_XDECREF(empty_string);
    Py_XDECREF(py_code);
    Py_XDECREF(py_frame);
}
