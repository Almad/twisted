#!/usr/bin/env python

"""
Usage: mkircserver

Creates an chat server that speaks the IRC client protocol.
"""

### Twisted Preamble
# This makes sure that users don't have to set up their environment
# specially in order to run these programs from bin/.
import sys,os,string

if string.find(os.path.abspath(sys.argv[0]),'Twisted') != -1:
    sys.path.append(os.path.dirname(
        os.path.dirname(os.path.abspath(sys.argv[0])))) 
### end of preamble

from twisted.protocols import irc
from twisted.internet import main, tcp
from cPickle import dump
import sys

portno = 6667

a = main.Application("irc")
t = irc.IRCFactory()
a.addPort(tcp.Port(portno, t))
dump(a, open("irc.spl",'wb'))
