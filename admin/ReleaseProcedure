TEST, TEST.
 
 * run the unit tests.
./admin/runtests
 * run the accepttests. I use:
WEBBROWSER='galeon -n' IRCCLIENT=epic4 admin/accepttests -b
 * kill your regular personal server
 * run the prerelease tests.
./admin/prereleasetests
 * when you're in less, actually *READ* the log, looking for errors
 * Restart your regular personal server

 * Also make sure that the words .tap remained compatible; start the words server's .tap on some out-of-the-way port
       (same as above, I've gotta automate this)

 * OK, so everything's working, time to update release documents
 * ChangeLog: Browse through twisted-commits; if you see any updates that are
   significant but weren't mentioned in ChangeLog, retroactively add them
 * ChangeLog: Add an entry: * .: Releasing Twisted <version>
 * README: add a new Quote of the Release

 * If you are working from a CVS version of Twisted which you want to release:
   * make sure it is named "Twisted.CVS", and in the directory immediately
     above it there is nothing else (that can be done via symlinks)
   * run
./Twisted.CVS/admin/release-twisted -v <version> --release=/twisted/Releases --upver --tag --export --dist --docs --balls --rel --deb --debi
 * If you want to release the latest CVS version of Twisted, have a
   reasonably checkout of Twisted in $SOMEWHERE, and in an empty directory
   do
$SOMEWHERE/admin/release-twisted -v <version> --checkout --release=/twisted/Releases --upver --tag --export --dist --docs --balls --rel --deb --debi

 * run 'md5sums ~/Releases/Twisted*', and 'gpg --clearsign' the output. update 
   /products/download/twisted-<ver>-md5sums.txt on the website.

 * run "apt-get update;apt-get upgrade"

 * restart the main Twisted server
cd /var/www
kill `cat twistd.pid`
mv web-shutdown.tap web-`date +%Y-%M-%d`.tap
./start-twisted.sh web-`date +%Y-%M-%d`.tap

 * Restart snibril's server
su jh; ~jh/bin/stop; ~jh/bin/start; exit

 * Restart the pb server:
su pb; cd ~/Working; kill `cat twistd.pid`; twistd -f manhole-shutdown.tap; mv manhole-shutdown.tap oldtaps/manhole-shutdown-`date -I`.tap; exit

 * If everything's cool, edit WebSite/twistedmatrix.com/news.html, index, and products/download.html
 * cvs commit those
 * go to 
su - pb
cd /var/www/WebSite/twistedmatrix.com
$WORKING/Twisted.CVS/Twisted/admin/generate-domdocs --docsdir . --template template.tpl -e None

 * For final versions only
 * Alright, now for the hell that is sourceforge release-procedure:
   * lftp upload.sf.net
   * cd incoming; lcd /twisted/Releases; put *.zip *.gz *.bzip2
   * go to http://sourceforge.net, log in, go to twisted project page, admin, edit/release files.
   * for each package, click "Add Release", type in the version number for "Release Name", "Create This Release", 
     there should be a checklist of all the files in incoming, click the three
     relevent files for each package (ie, if you're in package TwistedDocs, click TwistedDocs-<version>.{zip,tar.gz,tar.bz2}),
     and then "Add Files and/or Refresh View".
   * OK, so the files for that package are added, now you have to "Edit Files in this release" (ugh, what a pain)
   * You can only do one file at a time, you have to specify the architecture (platform idependant for each one), and the
     file type (.zip, bz2, gz), and click on "Update/Refresh" for each file.
   * Now, repeat for the other two packages. Hooray, you're done. Wasn't that easy? :\

 * OK! All released up. Now, for the announcements:
   * Freshmeat
   * comp.lang.python
   * comp.lang.python.announce
   * parnassus.
 
 * notify packagers:
   * Moshe Zadka <moshez@twistedmatrix.com>, Debian
   * Johann Visagie <johann@egenetics.com>, FreeBSD
   * Windows installer people (Bruce <bruce@twistedmatrix.com>, glyph)
   * Gentoo people: murphy@gentoo.org, jnelson@gentoo.org (???)
